<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3.路由 | 螺钉前端</title>
    <meta name="description" content="帮助零基础同学转行，入职前端开发，薪资5000-12000">
    <link rel="icon" href="/logo.png">
  <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e2bd54b8015cec977c6f30d0896b8a1b";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
      </script>
    
    <link rel="preload" href="/assets/css/0.styles.830e21dc.css" as="style"><link rel="preload" href="/assets/js/app.4c3c285e.js" as="script"><link rel="preload" href="/assets/js/2.35988976.js" as="script"><link rel="preload" href="/assets/js/35.79ff5def.js" as="script"><link rel="prefetch" href="/assets/js/10.0809a72a.js"><link rel="prefetch" href="/assets/js/100.d8310b4b.js"><link rel="prefetch" href="/assets/js/101.503f02c3.js"><link rel="prefetch" href="/assets/js/102.5d351a2d.js"><link rel="prefetch" href="/assets/js/103.c6129a47.js"><link rel="prefetch" href="/assets/js/104.5ded5ac5.js"><link rel="prefetch" href="/assets/js/105.589fa0d4.js"><link rel="prefetch" href="/assets/js/106.a5d3f2d9.js"><link rel="prefetch" href="/assets/js/107.651f67d2.js"><link rel="prefetch" href="/assets/js/108.d0d9b2ce.js"><link rel="prefetch" href="/assets/js/109.1a94580a.js"><link rel="prefetch" href="/assets/js/11.117e5df8.js"><link rel="prefetch" href="/assets/js/110.5d026414.js"><link rel="prefetch" href="/assets/js/111.b9698895.js"><link rel="prefetch" href="/assets/js/112.2f1eee19.js"><link rel="prefetch" href="/assets/js/113.ab1cc016.js"><link rel="prefetch" href="/assets/js/114.bb666e12.js"><link rel="prefetch" href="/assets/js/115.792d9fcc.js"><link rel="prefetch" href="/assets/js/116.6c4b9e1a.js"><link rel="prefetch" href="/assets/js/117.0f22d149.js"><link rel="prefetch" href="/assets/js/118.e0cdb666.js"><link rel="prefetch" href="/assets/js/119.53a0c74f.js"><link rel="prefetch" href="/assets/js/12.44c347ff.js"><link rel="prefetch" href="/assets/js/120.d3bda3aa.js"><link rel="prefetch" href="/assets/js/121.2eac6dcb.js"><link rel="prefetch" href="/assets/js/122.0c22ef17.js"><link rel="prefetch" href="/assets/js/123.fb674a1e.js"><link rel="prefetch" href="/assets/js/124.c1957c66.js"><link rel="prefetch" href="/assets/js/125.82296d79.js"><link rel="prefetch" href="/assets/js/126.cad2ebcc.js"><link rel="prefetch" href="/assets/js/127.536fc158.js"><link rel="prefetch" href="/assets/js/128.f38a8121.js"><link rel="prefetch" href="/assets/js/129.835af9eb.js"><link rel="prefetch" href="/assets/js/13.0990c880.js"><link rel="prefetch" href="/assets/js/130.0e32ffff.js"><link rel="prefetch" href="/assets/js/131.06dc20fa.js"><link rel="prefetch" href="/assets/js/132.b3af08ce.js"><link rel="prefetch" href="/assets/js/133.d0d4d25d.js"><link rel="prefetch" href="/assets/js/134.7c659774.js"><link rel="prefetch" href="/assets/js/135.91d30218.js"><link rel="prefetch" href="/assets/js/136.705e71a1.js"><link rel="prefetch" href="/assets/js/137.67ac551a.js"><link rel="prefetch" href="/assets/js/138.e1f063e6.js"><link rel="prefetch" href="/assets/js/139.c64481f7.js"><link rel="prefetch" href="/assets/js/14.4d578419.js"><link rel="prefetch" href="/assets/js/140.b3a94175.js"><link rel="prefetch" href="/assets/js/141.b1881667.js"><link rel="prefetch" href="/assets/js/142.f60ac7ca.js"><link rel="prefetch" href="/assets/js/143.d2bf8c2b.js"><link rel="prefetch" href="/assets/js/144.28d0a4f2.js"><link rel="prefetch" href="/assets/js/145.2520fa3a.js"><link rel="prefetch" href="/assets/js/146.74de499d.js"><link rel="prefetch" href="/assets/js/147.f9128127.js"><link rel="prefetch" href="/assets/js/148.af3b2732.js"><link rel="prefetch" href="/assets/js/149.d82805ec.js"><link rel="prefetch" href="/assets/js/15.0aec8b55.js"><link rel="prefetch" href="/assets/js/150.25aeea37.js"><link rel="prefetch" href="/assets/js/151.abd7ef02.js"><link rel="prefetch" href="/assets/js/152.9144e36e.js"><link rel="prefetch" href="/assets/js/153.e161c356.js"><link rel="prefetch" href="/assets/js/154.d1f428f9.js"><link rel="prefetch" href="/assets/js/155.cfb64163.js"><link rel="prefetch" href="/assets/js/156.c1d7efea.js"><link rel="prefetch" href="/assets/js/157.7cc86938.js"><link rel="prefetch" href="/assets/js/158.0bbdbb57.js"><link rel="prefetch" href="/assets/js/159.6fb40b2e.js"><link rel="prefetch" href="/assets/js/16.ba17c819.js"><link rel="prefetch" href="/assets/js/160.a2704844.js"><link rel="prefetch" href="/assets/js/161.129a8d66.js"><link rel="prefetch" href="/assets/js/162.9fcbc103.js"><link rel="prefetch" href="/assets/js/163.bc8b2720.js"><link rel="prefetch" href="/assets/js/164.23718563.js"><link rel="prefetch" href="/assets/js/165.3832b2fb.js"><link rel="prefetch" href="/assets/js/166.50cdb4b6.js"><link rel="prefetch" href="/assets/js/167.3894de9c.js"><link rel="prefetch" href="/assets/js/168.31c105f6.js"><link rel="prefetch" href="/assets/js/169.ce5b3623.js"><link rel="prefetch" href="/assets/js/17.82672299.js"><link rel="prefetch" href="/assets/js/170.c1c272d8.js"><link rel="prefetch" href="/assets/js/171.28ae28fd.js"><link rel="prefetch" href="/assets/js/172.e88b63ba.js"><link rel="prefetch" href="/assets/js/173.d80be42c.js"><link rel="prefetch" href="/assets/js/174.c93d8ee6.js"><link rel="prefetch" href="/assets/js/175.5ad5c54a.js"><link rel="prefetch" href="/assets/js/176.9be9b361.js"><link rel="prefetch" href="/assets/js/177.1da98845.js"><link rel="prefetch" href="/assets/js/178.050b5a93.js"><link rel="prefetch" href="/assets/js/179.44f7d1b5.js"><link rel="prefetch" href="/assets/js/18.b20be58c.js"><link rel="prefetch" href="/assets/js/180.b5d4db3c.js"><link rel="prefetch" href="/assets/js/181.4a2a0ca9.js"><link rel="prefetch" href="/assets/js/182.07a102f3.js"><link rel="prefetch" href="/assets/js/183.cdcf0c40.js"><link rel="prefetch" href="/assets/js/184.4f78232c.js"><link rel="prefetch" href="/assets/js/185.f51bec5f.js"><link rel="prefetch" href="/assets/js/186.029f1d35.js"><link rel="prefetch" href="/assets/js/187.f255a676.js"><link rel="prefetch" href="/assets/js/188.de182007.js"><link rel="prefetch" href="/assets/js/189.10b972f3.js"><link rel="prefetch" href="/assets/js/19.b7271ed6.js"><link rel="prefetch" href="/assets/js/190.5fd9343d.js"><link rel="prefetch" href="/assets/js/191.f5152b31.js"><link rel="prefetch" href="/assets/js/192.66d7fa13.js"><link rel="prefetch" href="/assets/js/193.fdeaeda4.js"><link rel="prefetch" href="/assets/js/194.ad25ba5e.js"><link rel="prefetch" href="/assets/js/195.03913adc.js"><link rel="prefetch" href="/assets/js/196.d2ce6bf5.js"><link rel="prefetch" href="/assets/js/197.34acf369.js"><link rel="prefetch" href="/assets/js/198.a329ed4e.js"><link rel="prefetch" href="/assets/js/199.114b5c2b.js"><link rel="prefetch" href="/assets/js/20.ec886eea.js"><link rel="prefetch" href="/assets/js/200.91f58af4.js"><link rel="prefetch" href="/assets/js/201.8607f87f.js"><link rel="prefetch" href="/assets/js/202.1d1b5024.js"><link rel="prefetch" href="/assets/js/203.6332d6aa.js"><link rel="prefetch" href="/assets/js/204.144f7ce3.js"><link rel="prefetch" href="/assets/js/205.16a39432.js"><link rel="prefetch" href="/assets/js/206.6eac6d07.js"><link rel="prefetch" href="/assets/js/207.befb0534.js"><link rel="prefetch" href="/assets/js/208.82b906c6.js"><link rel="prefetch" href="/assets/js/209.8c8cce8f.js"><link rel="prefetch" href="/assets/js/21.f2a3e37a.js"><link rel="prefetch" href="/assets/js/210.6c38f127.js"><link rel="prefetch" href="/assets/js/211.3e7e3332.js"><link rel="prefetch" href="/assets/js/212.a9bc62eb.js"><link rel="prefetch" href="/assets/js/213.b5bce6ee.js"><link rel="prefetch" href="/assets/js/214.7a7e0c32.js"><link rel="prefetch" href="/assets/js/215.3363643e.js"><link rel="prefetch" href="/assets/js/216.576d4291.js"><link rel="prefetch" href="/assets/js/217.9b02761b.js"><link rel="prefetch" href="/assets/js/218.2c8d5026.js"><link rel="prefetch" href="/assets/js/219.0a093045.js"><link rel="prefetch" href="/assets/js/22.468bb897.js"><link rel="prefetch" href="/assets/js/220.25759ab0.js"><link rel="prefetch" href="/assets/js/221.45332d2d.js"><link rel="prefetch" href="/assets/js/222.d25f0cfa.js"><link rel="prefetch" href="/assets/js/223.0bfa2457.js"><link rel="prefetch" href="/assets/js/224.70b2953f.js"><link rel="prefetch" href="/assets/js/225.46da8954.js"><link rel="prefetch" href="/assets/js/226.097d15f7.js"><link rel="prefetch" href="/assets/js/227.10b91bea.js"><link rel="prefetch" href="/assets/js/228.5d586eb3.js"><link rel="prefetch" href="/assets/js/229.2a60964a.js"><link rel="prefetch" href="/assets/js/23.2b2fa42d.js"><link rel="prefetch" href="/assets/js/230.abcbb8ee.js"><link rel="prefetch" href="/assets/js/231.a314da07.js"><link rel="prefetch" href="/assets/js/232.64676258.js"><link rel="prefetch" href="/assets/js/233.9c86ded1.js"><link rel="prefetch" href="/assets/js/234.a18f20a6.js"><link rel="prefetch" href="/assets/js/235.3c6f087c.js"><link rel="prefetch" href="/assets/js/236.26e894d3.js"><link rel="prefetch" href="/assets/js/237.46d1f99f.js"><link rel="prefetch" href="/assets/js/238.46026479.js"><link rel="prefetch" href="/assets/js/239.ff830552.js"><link rel="prefetch" href="/assets/js/24.da8569e4.js"><link rel="prefetch" href="/assets/js/240.7ce2fbe0.js"><link rel="prefetch" href="/assets/js/241.7f63fcc0.js"><link rel="prefetch" href="/assets/js/242.8295f0de.js"><link rel="prefetch" href="/assets/js/243.f183b175.js"><link rel="prefetch" href="/assets/js/244.acc3278b.js"><link rel="prefetch" href="/assets/js/245.7ef73821.js"><link rel="prefetch" href="/assets/js/246.7ade592d.js"><link rel="prefetch" href="/assets/js/247.b6bdbc9e.js"><link rel="prefetch" href="/assets/js/248.397d3ae7.js"><link rel="prefetch" href="/assets/js/249.98b89913.js"><link rel="prefetch" href="/assets/js/25.44327d9b.js"><link rel="prefetch" href="/assets/js/250.108c519b.js"><link rel="prefetch" href="/assets/js/251.df25c95b.js"><link rel="prefetch" href="/assets/js/252.44d67967.js"><link rel="prefetch" href="/assets/js/253.c8c169a0.js"><link rel="prefetch" href="/assets/js/254.c6d1d240.js"><link rel="prefetch" href="/assets/js/255.3e875698.js"><link rel="prefetch" href="/assets/js/256.9608b951.js"><link rel="prefetch" href="/assets/js/257.5154d8b3.js"><link rel="prefetch" href="/assets/js/258.68c0084a.js"><link rel="prefetch" href="/assets/js/259.1e17eb83.js"><link rel="prefetch" href="/assets/js/26.8e3a2fdc.js"><link rel="prefetch" href="/assets/js/260.2bfb1254.js"><link rel="prefetch" href="/assets/js/261.305c4aba.js"><link rel="prefetch" href="/assets/js/262.f4e95dbe.js"><link rel="prefetch" href="/assets/js/263.958e0e0d.js"><link rel="prefetch" href="/assets/js/264.7baca583.js"><link rel="prefetch" href="/assets/js/265.cf5ee4ac.js"><link rel="prefetch" href="/assets/js/266.1c987332.js"><link rel="prefetch" href="/assets/js/267.10bf52cc.js"><link rel="prefetch" href="/assets/js/268.3b20da52.js"><link rel="prefetch" href="/assets/js/269.838c4103.js"><link rel="prefetch" href="/assets/js/27.01e54737.js"><link rel="prefetch" href="/assets/js/270.90dc1d21.js"><link rel="prefetch" href="/assets/js/271.293bf47a.js"><link rel="prefetch" href="/assets/js/272.ad955cce.js"><link rel="prefetch" href="/assets/js/273.20689a28.js"><link rel="prefetch" href="/assets/js/274.f1680a80.js"><link rel="prefetch" href="/assets/js/275.3aac1e18.js"><link rel="prefetch" href="/assets/js/276.4341cdcb.js"><link rel="prefetch" href="/assets/js/277.c1646afd.js"><link rel="prefetch" href="/assets/js/278.ffda642b.js"><link rel="prefetch" href="/assets/js/279.0712cfd5.js"><link rel="prefetch" href="/assets/js/28.4a3312b8.js"><link rel="prefetch" href="/assets/js/280.d0a9e837.js"><link rel="prefetch" href="/assets/js/281.7f94b988.js"><link rel="prefetch" href="/assets/js/29.7deca706.js"><link rel="prefetch" href="/assets/js/3.619aa9ab.js"><link rel="prefetch" href="/assets/js/30.bbe18c23.js"><link rel="prefetch" href="/assets/js/31.d9858940.js"><link rel="prefetch" href="/assets/js/32.b5337a99.js"><link rel="prefetch" href="/assets/js/33.743e0245.js"><link rel="prefetch" href="/assets/js/34.045bd74e.js"><link rel="prefetch" href="/assets/js/36.1a1400b4.js"><link rel="prefetch" href="/assets/js/37.66b0b9cc.js"><link rel="prefetch" href="/assets/js/38.1cbbe2a9.js"><link rel="prefetch" href="/assets/js/39.4b7cc766.js"><link rel="prefetch" href="/assets/js/4.72e92390.js"><link rel="prefetch" href="/assets/js/40.5e06f5bf.js"><link rel="prefetch" href="/assets/js/41.4e4631a8.js"><link rel="prefetch" href="/assets/js/42.880981c4.js"><link rel="prefetch" href="/assets/js/43.178e9db3.js"><link rel="prefetch" href="/assets/js/44.cb911db2.js"><link rel="prefetch" href="/assets/js/45.f46a1807.js"><link rel="prefetch" href="/assets/js/46.72d2caae.js"><link rel="prefetch" href="/assets/js/47.ec98d891.js"><link rel="prefetch" href="/assets/js/48.3e48a260.js"><link rel="prefetch" href="/assets/js/49.5b4acb74.js"><link rel="prefetch" href="/assets/js/5.60e38b16.js"><link rel="prefetch" href="/assets/js/50.87ebcffd.js"><link rel="prefetch" href="/assets/js/51.d0c481a1.js"><link rel="prefetch" href="/assets/js/52.ceeea1f7.js"><link rel="prefetch" href="/assets/js/53.aa7484c2.js"><link rel="prefetch" href="/assets/js/54.852fbdeb.js"><link rel="prefetch" href="/assets/js/55.71eed07f.js"><link rel="prefetch" href="/assets/js/56.d7b4184a.js"><link rel="prefetch" href="/assets/js/57.b855843f.js"><link rel="prefetch" href="/assets/js/58.99ea811e.js"><link rel="prefetch" href="/assets/js/59.c35d6ca0.js"><link rel="prefetch" href="/assets/js/6.e2a5f4eb.js"><link rel="prefetch" href="/assets/js/60.faa94541.js"><link rel="prefetch" href="/assets/js/61.201bd301.js"><link rel="prefetch" href="/assets/js/62.6b322f48.js"><link rel="prefetch" href="/assets/js/63.1d9e0c71.js"><link rel="prefetch" href="/assets/js/64.8da9224b.js"><link rel="prefetch" href="/assets/js/65.3b6af424.js"><link rel="prefetch" href="/assets/js/66.587fc6bc.js"><link rel="prefetch" href="/assets/js/67.29f1149e.js"><link rel="prefetch" href="/assets/js/68.c4b9a60c.js"><link rel="prefetch" href="/assets/js/69.32aee3ee.js"><link rel="prefetch" href="/assets/js/7.016407d6.js"><link rel="prefetch" href="/assets/js/70.9a8a0683.js"><link rel="prefetch" href="/assets/js/71.b8e3cdc6.js"><link rel="prefetch" href="/assets/js/72.f0fc170f.js"><link rel="prefetch" href="/assets/js/73.7d91c309.js"><link rel="prefetch" href="/assets/js/74.b5f0255a.js"><link rel="prefetch" href="/assets/js/75.e86f9491.js"><link rel="prefetch" href="/assets/js/76.033a8716.js"><link rel="prefetch" href="/assets/js/77.a4e3262b.js"><link rel="prefetch" href="/assets/js/78.e2ea8d44.js"><link rel="prefetch" href="/assets/js/79.72045e29.js"><link rel="prefetch" href="/assets/js/8.4428ceee.js"><link rel="prefetch" href="/assets/js/80.2dfbf868.js"><link rel="prefetch" href="/assets/js/81.a35fea2c.js"><link rel="prefetch" href="/assets/js/82.cac44de7.js"><link rel="prefetch" href="/assets/js/83.b1e15f71.js"><link rel="prefetch" href="/assets/js/84.744feca7.js"><link rel="prefetch" href="/assets/js/85.d4398600.js"><link rel="prefetch" href="/assets/js/86.2ff5fc32.js"><link rel="prefetch" href="/assets/js/87.2b2547de.js"><link rel="prefetch" href="/assets/js/88.8807bdd7.js"><link rel="prefetch" href="/assets/js/89.bf869c9a.js"><link rel="prefetch" href="/assets/js/9.f56957fc.js"><link rel="prefetch" href="/assets/js/90.4105c2f5.js"><link rel="prefetch" href="/assets/js/91.24a33f7f.js"><link rel="prefetch" href="/assets/js/92.8d7dbaad.js"><link rel="prefetch" href="/assets/js/93.9e6fd924.js"><link rel="prefetch" href="/assets/js/94.9381c401.js"><link rel="prefetch" href="/assets/js/95.eaa1808d.js"><link rel="prefetch" href="/assets/js/96.e3a8d59f.js"><link rel="prefetch" href="/assets/js/97.a6375129.js"><link rel="prefetch" href="/assets/js/98.ad841694.js"><link rel="prefetch" href="/assets/js/99.3a6761fd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.830e21dc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">螺钉前端</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/basics/" class="nav-link router-link-active">基础教程</a></div><div class="nav-item"><a href="/project/" class="nav-link">项目实战</a></div><div class="nav-item"><a href="/article/" class="nav-link">零散文章</a></div><div class="nav-item"><a href="/association/" class="nav-link">一起学习</a></div><div class="nav-item"><a href="/architect/" class="nav-link">前端架构师</a></div><div class="nav-item"><a href="/article/螺钉课堂产品矩阵/" class="nav-link">螺钉课堂产品矩阵</a></div><div class="nav-item"><a href="https://edu.nodeing.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  视频学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/basics/" class="nav-link router-link-active">基础教程</a></div><div class="nav-item"><a href="/project/" class="nav-link">项目实战</a></div><div class="nav-item"><a href="/article/" class="nav-link">零散文章</a></div><div class="nav-item"><a href="/association/" class="nav-link">一起学习</a></div><div class="nav-item"><a href="/architect/" class="nav-link">前端架构师</a></div><div class="nav-item"><a href="/article/螺钉课堂产品矩阵/" class="nav-link">螺钉课堂产品矩阵</a></div><div class="nav-item"><a href="https://edu.nodeing.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  视频学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/basics/express%E9%AB%98%E6%95%88%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/" class="sidebar-link">express高效入门教程</a></li><li><a href="/basics/express高效入门教程/chapter1/helloworld.html" class="sidebar-link">1.hello world</a></li><li><a href="/basics/express高效入门教程/chapter2/请求和响应.html" class="sidebar-link">2.请求和响应</a></li><li><a href="/basics/express高效入门教程/chapter3/路由.html" class="active sidebar-link">3.路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basics/express高效入门教程/chapter3/路由.html#_3-1-express规划路由" class="sidebar-link">3.1.express规划路由</a></li><li class="sidebar-sub-header"><a href="/basics/express高效入门教程/chapter3/路由.html#_3-2-对路由模块进行多级拆分" class="sidebar-link">3.2.对路由模块进行多级拆分</a></li><li class="sidebar-sub-header"><a href="/basics/express高效入门教程/chapter3/路由.html#_3-3-动态路由" class="sidebar-link">3.3.动态路由</a></li></ul></li><li><a href="/basics/express高效入门教程/chapter4/静态文件.html" class="sidebar-link">4.静态文件</a></li><li><a href="/basics/express高效入门教程/chapter5/ejs模板.html" class="sidebar-link">5.ejs模版</a></li><li><a href="/basics/express高效入门教程/chapter6/中间件.html" class="sidebar-link">5.中间件</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_3-路由"><a href="#_3-路由" aria-hidden="true" class="header-anchor">#</a> 3.路由</h1> <p>路由到底是什么呢？不管官方定义到底是什么，咱通俗的说就是根据不同的url，执行不同的代码，类似于编程语言中的分支结构</p> <h2 id="_3-1-express规划路由"><a href="#_3-1-express规划路由" aria-hidden="true" class="header-anchor">#</a> 3.1.express规划路由</h2> <p>稍微复杂点的应用，通常都是分模块进行的，例如：</p> <p><img src="/assets/img/2019-03-06-06-21-25.4eede105.png" alt=""></p> <p>我们从中挑选几个模块进行路由规划，在我们的后台模块里面，可以实现用户的管理，课程的管理，友情链接管理等，我们的访问地址可能是这样的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1.用户管理</span>
<span class="token comment">// 用户列表</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8090</span><span class="token operator">/</span>admin<span class="token operator">/</span>user<span class="token operator">/</span>list
<span class="token comment">// 添加用户</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8090</span><span class="token operator">/</span>admin<span class="token operator">/</span>user<span class="token operator">/</span>add
<span class="token comment">// 删除用户</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8090</span><span class="token operator">/</span>admin<span class="token operator">/</span>user<span class="token operator">/</span><span class="token keyword">delete</span>
<span class="token comment">// 编辑用户</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8090</span><span class="token operator">/</span>admin<span class="token operator">/</span>user<span class="token operator">/</span>edit

<span class="token comment">// 2.课程管理</span>
<span class="token comment">// 课程列表</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8090</span><span class="token operator">/</span>admin<span class="token operator">/</span>course<span class="token operator">/</span>list
<span class="token comment">// 添加用户</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8090</span><span class="token operator">/</span>admin<span class="token operator">/</span>course<span class="token operator">/</span>add
<span class="token comment">// 删除用户</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8090</span><span class="token operator">/</span>admin<span class="token operator">/</span>course<span class="token operator">/</span><span class="token keyword">delete</span>
<span class="token comment">// 编辑用户</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8090</span><span class="token operator">/</span>admin<span class="token operator">/</span>course<span class="token operator">/</span>edit

<span class="token operator">...</span>

</code></pre></div><p>在没有拆分路由的情况下，我们需要在app.js里面写这些代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 用户管理模块
 */</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/user/list'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'用户列表'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/user/add'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'添加用户'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/user/delete'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'删除用户'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/user/edit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'更新用户'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 课程模块
 */</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/course/list'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'课程列表'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/course/add'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'添加课程'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/course/delete'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'删除课程'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/course/edit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'更新课程'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>当上面的代码都写到app.js中，代码会显得非常臃肿，最佳的实践是把这些模块拆分出去，express中提供了拆分的方法</p> <p>第一步，我们在项目根目录下面，新建一个router目录，在这个目录下面按模块名字分别创建user.js和course.js</p> <p><img src="/assets/img/2019-03-06-06-42-05.3165416c.png" alt=""></p> <p>第二步，在user.js文件中，创建router，并导出</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// ...  中间写对应的路由方法</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router
</code></pre></div><p>第三步，把对应的路由方法添加到user.js中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/user/list'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'用户列表'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/user/add'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'添加用户'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/user/delete'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'删除用户'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/user/edit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'更新用户'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router
</code></pre></div><p>经过前面步骤，我们完成了user模块路由拆分</p> <p>接下来，我们可以按照这种方式，把course模块拆分出来</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// course.js文件代码</span>

<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/course/list'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'课程列表'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/course/add'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'添加课程'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/course/delete'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'删除课程'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/course/edit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'更新课程'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router
</code></pre></div><p>当我们各个路由模块都拆分完成后，如何使用这些模块呢？</p> <p>在app.js中，我们需要引入创建好的路由模块</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> userRouter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./router/user'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> courseRouter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./router/course'</span><span class="token punctuation">)</span>
</code></pre></div><p>接下来，挂载到express上</p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> userRouter<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> courseRouter<span class="token punctuation">)</span>
</code></pre></div><p>经过以上步骤，我们已经把路由模块完全拆分出去了</p> <h2 id="_3-2-对路由模块进行多级拆分"><a href="#_3-2-对路由模块进行多级拆分" aria-hidden="true" class="header-anchor">#</a> 3.2.对路由模块进行多级拆分</h2> <p>前面我们已经把模块划分出来了，我们在写路由方法的时候是这样的：</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin/user/list'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'用户列表'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>从代码中我们可以看成，写路径的时候会写一长串，/admin/user/list，这样写比较麻烦，同时，我们更希望大模块直接有更好的划分，例如，我们的系统总体上划分为前台模块和后台模块，那我们的router目录组织结构应该是这样的：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>admin文件夹下面放的都是关于后台路由的模块，home目录下面放的都是前台路由的模块，这个时候，我们需要对路由做进一步拆分，以拆分admin为例：</p> <p>第一步：在admin/index.js下面 引入其他admin下面的模块,把其他admin下面的模块都挂在index.js这个模块上然后导出</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> course <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./course'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./user'</span><span class="token punctuation">)</span>

<span class="token comment">// 挂载user模块</span>
router<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span>
<span class="token comment">// 挂载course模块</span>
router<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> course<span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router
</code></pre></div><p>第二步：在app.js中引入admin模块</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> adminRouter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./router/admin/index'</span><span class="token punctuation">)</span>
</code></pre></div><p>第三步：把adminRouter挂到app对象上</p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/admin'</span><span class="token punctuation">,</span> adminRouter<span class="token punctuation">)</span>
</code></pre></div><p>第四步：需要注意，user.js模块中的请求路径需要改变，例如：原来的&quot;/admin/user/list&quot;这种写法，需要改成这种&quot;/user/list&quot;</p> <p>最终的路由分级如下图</p> <p><img src="/assets/img/2019-03-06-07-23-27.75f6f6bf.png" alt=""></p> <h2 id="_3-3-动态路由"><a href="#_3-3-动态路由" aria-hidden="true" class="header-anchor">#</a> 3.3.动态路由</h2> <p>动态路由就是路由是动态不固定的，例如：</p> <div class="language-js extra-class"><pre class="language-js"><code>http<span class="token punctuation">;</span><span class="token comment">//localhost:8090/user/1</span>
http<span class="token punctuation">;</span><span class="token comment">//localhost:8090/user/2</span>
http<span class="token punctuation">;</span><span class="token comment">//localhost:8090/user/3</span>
</code></pre></div><p>上面的几个url中，都是去访问某个user，前面部分（http;//localhost:8090/user）是相同的，不同的就是后面的部分</p> <p>在后台我们怎么去监听这种形式的url呢？我们可以弄一个变量来匹配这些不同的部分，例如：</p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/:id'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>这其中的id就存储了url中变化的部分</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">/</span>user<span class="token operator">/</span><span class="token number">1</span>   id<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token operator">/</span>user<span class="token operator">/</span><span class="token number">2</span>   id<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token operator">/</span>user<span class="token operator">/</span><span class="token number">3</span>   id<span class="token punctuation">:</span> <span class="token number">3</span>
</code></pre></div><p>可以通过req.params.id打印出每次请求的动态部分(动态参数)</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/basics/express高效入门教程/chapter2/请求和响应.html" class="prev">
          2.请求和响应
        </a></span> <span class="next"><a href="/basics/express高效入门教程/chapter4/静态文件.html">
          4.静态文件
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4c3c285e.js" defer></script><script src="/assets/js/2.35988976.js" defer></script><script src="/assets/js/35.79ff5def.js" defer></script>
  </body>
</html>
